# æœŸæƒé“¾æ•°æ®å¯è§†åŒ–ä¼˜åŒ–åˆ†æžæ–‡æ¡£

## ðŸ“Š å½“å‰çŠ¶æ€åˆ†æž

### 1. æ•°æ®å¯ç”¨æ€§æ£€æŸ¥

æˆ‘ä»¬å½“å‰å¯ç”¨çš„æœŸæƒé“¾æ•°æ®å­—æ®µï¼š

#### åŸºç¡€ä»·æ ¼æ•°æ®
- âœ… `strike` - æ‰§è¡Œä»·
- âœ… `bid` - ä¹°ä»·
- âœ… `ask` - å–ä»·
- âœ… `spot_price` - æ ‡çš„ä»·æ ¼ï¼ˆç”¨äºŽè¯†åˆ« ATMï¼‰

#### å¸‚åœºæ´»è·ƒåº¦æ•°æ®
- âœ… `volume` - æˆäº¤é‡
- âœ… `open_interest` (OI) - æŒä»“é‡

#### Greeksï¼ˆé£Žé™©æŒ‡æ ‡ï¼‰
- âœ… `delta` (Î”) - ä»·æ ¼æ•æ„Ÿåº¦
- âœ… `gamma` (Î“) - Delta å˜åŒ–çŽ‡
- âœ… `theta` (Î˜) - æ—¶é—´è¡°å‡
- âœ… `vega` (Î½) - æ³¢åŠ¨çŽ‡æ•æ„Ÿåº¦
- âœ… `rho` (Ï) - åˆ©çŽ‡æ•æ„Ÿåº¦

#### æ³¢åŠ¨çŽ‡æ•°æ®
- âœ… `implied_volatility` / `implied_vol` - éšå«æ³¢åŠ¨çŽ‡

### 2. å½“å‰å±•ç¤ºæ–¹å¼çš„é—®é¢˜

**å½“å‰å®žçŽ°ï¼š`OptionChainTable.tsx`**

#### âŒ ä¸»è¦é—®é¢˜ï¼š

1. **ä¿¡æ¯è¿‡è½½**
   - 20åˆ—æ•°æ®ï¼ˆCall + Put å„10åˆ—ï¼‰
   - è¡¨æ ¼æ¨ªå‘æ»šåŠ¨ï¼Œç”¨æˆ·ä½“éªŒå·®
   - åˆ†é¡µæ˜¾ç¤ºï¼ˆ15è¡Œ/é¡µï¼‰ï¼Œæ— æ³•çœ‹åˆ°æ•´ä½“è¶‹åŠ¿

2. **ç¼ºä¹ç›´è§‚æ€§**
   - æ•°å­—å †å ï¼Œéš¾ä»¥å¿«é€Ÿè¯†åˆ«å…³é”®ä¿¡æ¯
   - æ— æ³•çœ‹åˆ°ä»·æ ¼åˆ†å¸ƒã€IVåˆ†å¸ƒç­‰è¶‹åŠ¿
   - ATMï¼ˆå¹³ä»·æœŸæƒï¼‰åªèƒ½é€šè¿‡èƒŒæ™¯è‰²æ ‡è¯†ï¼Œä¸å¤Ÿçªå‡º

3. **æ— æ³•å¿«é€Ÿè¯†åˆ«æœºä¼š**
   - é«˜IVæœŸæƒéš¾ä»¥å¿«é€Ÿå‘çŽ°
   - é«˜æˆäº¤é‡/OIçš„æœŸæƒæ²¡æœ‰çªå‡ºæ˜¾ç¤º
   - ä»·å·®ï¼ˆbid-ask spreadï¼‰éœ€è¦è®¡ç®—ï¼Œä¸ç›´è§‚

4. **Greeks ç†è§£å›°éš¾**
   - 5ä¸ªå¸Œè…Šå­—æ¯ä»¥æ•°å­—å½¢å¼å±•ç¤º
   - æ— æ³•çœ‹åˆ°Greekséšæ‰§è¡Œä»·çš„å˜åŒ–è¶‹åŠ¿
   - æ— æ³•ç†è§£Greeksä¹‹é—´çš„å…³ç³»

---

## ðŸŽ¯ ä¼˜åŒ–æ–¹æ¡ˆè®¾è®¡

### æ–¹æ¡ˆä¸€ï¼šå¤šè§†å›¾åˆ‡æ¢ï¼ˆæŽ¨è â­â­â­â­â­ï¼‰

#### æ ¸å¿ƒæ€è·¯
å°†æœŸæƒé“¾æ•°æ®åˆ†è§£ä¸ºå¤šä¸ªä¸“ä¸šè§†å›¾ï¼Œæ¯ä¸ªè§†å›¾èšç„¦ä¸åŒçš„äº¤æ˜“å†³ç­–åœºæ™¯ã€‚

#### è§†å›¾1ï¼šä»·æ ¼è§†å›¾ï¼ˆPrice Viewï¼‰- ç±»ä¼¼Kçº¿å›¾

**å±•ç¤ºå†…å®¹ï¼š**
- Xè½´ï¼šæ‰§è¡Œä»·ï¼ˆStrikeï¼‰
- Yè½´ï¼šæœŸæƒä»·æ ¼
- å›¾è¡¨å…ƒç´ ï¼š
  - **Candlestick å›¾**ï¼šç”¨Kçº¿å±•ç¤ºæ¯ä¸ªæ‰§è¡Œä»·çš„ bid/ask èŒƒå›´
    - å®žä½“é«˜åº¦ = bid-ask spreadï¼ˆä»·å·®ï¼‰
    - å®žä½“ä½ç½® = mid price ((bid+ask)/2)
    - ä¸Šå½±çº¿ = ask è¶…å‡º mid price çš„éƒ¨åˆ†ï¼ˆå¦‚æžœæœ‰ï¼‰
    - ä¸‹å½±çº¿ = bid ä½ŽäºŽ mid price çš„éƒ¨åˆ†ï¼ˆå¦‚æžœæœ‰ï¼‰
  - **Call å’Œ Put åˆ†å¼€æ˜¾ç¤º**ï¼ˆä¸Šä¸‹ä¸¤ä¸ªå›¾ï¼Œæˆ–åŒä¸€å›¾ä¸åŒé¢œè‰²ï¼‰
  - **Spot Price æ ‡è®°çº¿**ï¼šåž‚ç›´çº¿æ ‡è®°å½“å‰æ ‡çš„ä»·æ ¼
  - **ATM åŒºåŸŸé«˜äº®**ï¼šÂ±2% æ‰§è¡Œä»·èŒƒå›´ç”¨ä¸åŒé¢œè‰²èƒŒæ™¯

**ä¼˜åŠ¿ï¼š**
- âœ… ä¸€çœ¼çœ‹å‡ºä»·æ ¼åˆ†å¸ƒå’ŒæµåŠ¨æ€§ï¼ˆä»·å·®å¤§å°ï¼‰
- âœ… å¿«é€Ÿè¯†åˆ«å¹³ä»·ã€è™šå€¼ã€å®žå€¼æœŸæƒ
- âœ… ç±»ä¼¼ä¼ ç»ŸKçº¿å›¾ï¼Œäº¤æ˜“è€…ç†Ÿæ‚‰

**æŠ€æœ¯å®žçŽ°ï¼š**
- ä½¿ç”¨ `lightweight-charts` çš„ `CandlestickSeries`
- æ¯ä¸ªæ‰§è¡Œä»·è½¬æ¢ä¸ºä¸€ä¸ª candlestick æ•°æ®ç‚¹

---

#### è§†å›¾2ï¼šéšå«æ³¢åŠ¨çŽ‡è§†å›¾ï¼ˆIV Viewï¼‰- çƒ­åŠ›å›¾/æ›²é¢å›¾

**å±•ç¤ºå†…å®¹ï¼š**
- Xè½´ï¼šæ‰§è¡Œä»·ï¼ˆStrikeï¼‰
- Yè½´ï¼šéšå«æ³¢åŠ¨çŽ‡ï¼ˆIV %ï¼‰
- å›¾è¡¨ç±»åž‹ï¼š**Area Chart + Heatmap å åŠ **
  - Area Chartï¼šæ˜¾ç¤º IV éšæ‰§è¡Œä»·çš„åˆ†å¸ƒæ›²çº¿
  - é¢œè‰²ç¼–ç ï¼š
    - ðŸ”´ çº¢è‰²ï¼šé«˜IVï¼ˆ> 50th percentileï¼‰
    - ðŸŸ¡ é»„è‰²ï¼šä¸­ç­‰IVï¼ˆ25th - 50th percentileï¼‰
    - ðŸŸ¢ ç»¿è‰²ï¼šä½ŽIVï¼ˆ< 25th percentileï¼‰
  - Call å’Œ Put åˆ†å¼€æ˜¾ç¤ºï¼ˆæˆ–å¯¹æ¯”æ˜¾ç¤ºï¼‰

**ä¼˜åŠ¿ï¼š**
- âœ… å¿«é€Ÿè¯†åˆ«é«˜IVæœºä¼šï¼ˆé€‚åˆå–å‡ºç­–ç•¥ï¼‰
- âœ… è¯†åˆ«IVå¼‚å¸¸ï¼ˆIV skewï¼‰
- âœ… çœ‹åˆ°IVå¾®ç¬‘æ›²çº¿ï¼ˆvolatility smileï¼‰

**æŠ€æœ¯å®žçŽ°ï¼š**
- ä½¿ç”¨ `recharts` çš„ `Area` æˆ– `ComposedChart`
- ç»“åˆ `lightweight-charts` çš„ `AreaSeries`ï¼ˆå¦‚æžœéœ€è¦æ›´ç²¾ç»†çš„æŽ§åˆ¶ï¼‰

---

#### è§†å›¾3ï¼šGreeks è§†å›¾ï¼ˆGreeks Viewï¼‰- å¤šçº¿å›¾

**å±•ç¤ºå†…å®¹ï¼š**
- Xè½´ï¼šæ‰§è¡Œä»·ï¼ˆStrikeï¼‰
- Yè½´ï¼šGreek å€¼ï¼ˆæ ‡å‡†åŒ–åˆ°0-1èŒƒå›´ï¼Œæˆ–æ˜¾ç¤ºåŽŸå§‹å€¼ï¼‰
- å›¾è¡¨ç±»åž‹ï¼š**Multi-Line Chart**
  - 5æ¡çº¿ï¼šDelta, Gamma, Theta, Vega, Rho
  - ä¸åŒé¢œè‰²åŒºåˆ†
  - Call å’Œ Put åˆ†å¼€æ˜¾ç¤ºï¼ˆæˆ–å·¦å³å¯¹æ¯”ï¼‰

**ç‰¹æ®Šå¤„ç†ï¼š**
- **Delta å›¾**ï¼šé‡ç‚¹æ˜¾ç¤ºï¼ˆå¯¹ç­–ç•¥æž„å»ºæœ€å…³é”®ï¼‰
  - Call Delta: 0 åˆ° 1ï¼ˆå®žå€¼é€’å¢žï¼‰
  - Put Delta: -1 åˆ° 0ï¼ˆå®žå€¼é€’å‡ï¼‰
- **Gamma å›¾**ï¼šæ˜¾ç¤ºATMé™„è¿‘çš„å³°å€¼
- **Theta å›¾**ï¼šæ˜¾ç¤ºæ—¶é—´è¡°å‡ï¼ˆé€šå¸¸ä¸ºè´Ÿå€¼ï¼‰

**ä¼˜åŠ¿ï¼š**
- âœ… ç†è§£Greekséšæ‰§è¡Œä»·çš„å˜åŒ–è§„å¾‹
- âœ… å¿«é€Ÿé€‰æ‹©é€‚åˆçš„Deltaï¼ˆå¦‚0.3, 0.5ç­‰ï¼‰
- âœ… è¯†åˆ«Greekså¼‚å¸¸å€¼

**æŠ€æœ¯å®žçŽ°ï¼š**
- ä½¿ç”¨ `recharts` çš„ `Line` æˆ– `ComposedChart`

---

#### è§†å›¾4ï¼šå¸‚åœºæ´»è·ƒåº¦è§†å›¾ï¼ˆActivity Viewï¼‰- æŸ±çŠ¶å›¾

**å±•ç¤ºå†…å®¹ï¼š**
- Xè½´ï¼šæ‰§è¡Œä»·ï¼ˆStrikeï¼‰
- Yè½´ï¼šVolume / Open Interest
- å›¾è¡¨ç±»åž‹ï¼š**Grouped Bar Chart**
  - ä¸¤ç»„æŸ±çŠ¶å›¾ï¼šVolume å’Œ OI
  - é¢œè‰²ç¼–ç ï¼š
    - Volumeï¼šè“è‰²
    - OIï¼šæ©™è‰²
  - Call å’Œ Put åˆ†å¼€æ˜¾ç¤º

**ä¼˜åŠ¿ï¼š**
- âœ… å¿«é€Ÿè¯†åˆ«æµåŠ¨æ€§æœ€å¥½çš„æ‰§è¡Œä»·
- âœ… å‘çŽ°å¸‚åœºå…³æ³¨ç‚¹ï¼ˆé«˜OIé€šå¸¸è¡¨ç¤ºé‡è¦æ”¯æ’‘/é˜»åŠ›ä½ï¼‰

**æŠ€æœ¯å®žçŽ°ï¼š**
- ä½¿ç”¨ `recharts` çš„ `BarChart` æˆ– `ComposedChart`

---

#### è§†å›¾5ï¼šç»¼åˆè§†å›¾ï¼ˆCombined Viewï¼‰- ä»ªè¡¨æ¿

**å±•ç¤ºå†…å®¹ï¼š**
- å°†ä¸Šè¿°4ä¸ªè§†å›¾ä»¥ç½‘æ ¼å½¢å¼ç»„åˆ
- 2x2 å¸ƒå±€ï¼š
  ```
  [ä»·æ ¼è§†å›¾]  [IVè§†å›¾]
  [Greeksè§†å›¾] [æ´»è·ƒåº¦è§†å›¾]
  ```
- æ‰€æœ‰è§†å›¾å…±äº«ç›¸åŒçš„Xè½´ï¼ˆæ‰§è¡Œä»·ï¼‰ï¼Œä¾¿äºŽå¯¹æ¯”
- ç‚¹å‡»ä»»ä¸€è§†å›¾çš„æ‰§è¡Œä»·ï¼Œæ‰€æœ‰è§†å›¾åŒæ­¥é«˜äº®

**ä¼˜åŠ¿ï¼š**
- âœ… å…¨å±€è§†è§’ï¼Œå…¨é¢äº†è§£æœŸæƒé“¾
- âœ… å¤šç»´åº¦å¯¹æ¯”åˆ†æž

---

### æ–¹æ¡ˆäºŒï¼šäº¤äº’å¼çƒ­åŠ›å›¾ï¼ˆHeatmapï¼‰- ä¸“ä¸šçº§ â­â­â­â­

#### æ ¸å¿ƒæ€è·¯
å°†æœŸæƒé“¾æ•°æ®ä»¥çƒ­åŠ›å›¾å½¢å¼å±•ç¤ºï¼Œé€šè¿‡é¢œè‰²æ·±æµ…è¡¨ç¤ºæ•°å€¼å¤§å°ã€‚

#### è®¾è®¡ï¼š

**ä¸»è§†å›¾ï¼š**
- è¡Œï¼šæ‰§è¡Œä»·ï¼ˆä»Žä¸Šåˆ°ä¸‹ï¼Œé«˜ä»·åˆ°ä½Žä»·ï¼‰
- åˆ—ï¼šæŒ‡æ ‡ï¼ˆBid, Ask, Mid, Spread, IV, Delta, Volume, OI ç­‰ï¼‰
- é¢œè‰²ç¼–ç ï¼š
  - **ä»·æ ¼ç±»æŒ‡æ ‡**ï¼ˆBid/Ask/Midï¼‰ï¼šç»¿è‰²æ¸å˜ï¼ˆä½Žä»·â†’é«˜ä»·ï¼‰
  - **IV**ï¼šçº¢è‰²æ¸å˜ï¼ˆä½ŽIVâ†’é«˜IVï¼‰
  - **Delta**ï¼šè“è‰²æ¸å˜ï¼ˆ-1â†’0â†’1ï¼‰
  - **Volume/OI**ï¼šé»„è‰²æ¸å˜ï¼ˆä½Žâ†’é«˜ï¼‰

**äº¤äº’åŠŸèƒ½ï¼š**
- é¼ æ ‡æ‚¬åœï¼šæ˜¾ç¤ºå®Œæ•´æ•°æ®tooltip
- ç‚¹å‡»å•å…ƒæ ¼ï¼šé€‰æ‹©è¯¥æœŸæƒï¼Œæ·»åŠ åˆ°ç­–ç•¥
- è¡Œé«˜äº®ï¼šæ ‡è®°ATMè¡Œï¼ˆæ ‡çš„ä»·æ ¼å¯¹åº”çš„æ‰§è¡Œä»·ï¼‰
- åˆ—æŽ’åºï¼šæŒ‰ä»»æ„åˆ—æŽ’åºï¼ˆæ‰¾å‡ºæœ€é«˜IVç­‰ï¼‰

**ä¼˜åŠ¿ï¼š**
- âœ… ä¿¡æ¯å¯†åº¦é«˜ï¼Œä¸€å±æ˜¾ç¤ºæ‰€æœ‰æ•°æ®
- âœ… é¢œè‰²ç¼–ç ç›´è§‚
- âœ… é€‚åˆä¸“ä¸šäº¤æ˜“è€…

**æŠ€æœ¯å®žçŽ°ï¼š**
- ä½¿ç”¨ CSS Grid + è‡ªå®šä¹‰çƒ­åŠ›å›¾ç»„ä»¶
- æˆ–ä½¿ç”¨ä¸“ä¸šçƒ­åŠ›å›¾åº“ï¼ˆå¦‚ `react-heatmap-grid`ï¼‰

---

### æ–¹æ¡ˆä¸‰ï¼šæ™ºèƒ½ç­›é€‰ + è¡¨æ ¼å¢žå¼º â­â­â­

#### æ ¸å¿ƒæ€è·¯
ä¿ç•™è¡¨æ ¼å½¢å¼ï¼Œä½†å¢žåŠ æ™ºèƒ½ç­›é€‰å’Œå¯è§†åŒ–è¾…åŠ©ã€‚

#### æ”¹è¿›ç‚¹ï¼š

1. **é¡¶éƒ¨ç­›é€‰æ **
   - ç­›é€‰æ¡ä»¶ï¼š
     - IV èŒƒå›´æ»‘å—
     - Delta èŒƒå›´æ»‘å—
     - Volume/OI æœ€å°å€¼
     - æ‰§è¡Œä»·èŒƒå›´ï¼ˆATM Â± X%ï¼‰
   - å®žæ—¶ç­›é€‰ç»“æžœæ•°é‡æ˜¾ç¤º

2. **è¡¨æ ¼å¢žå¼º**
   - **åˆ—æŽ’åº**ï¼šæ‰€æœ‰æ•°å€¼åˆ—å¯æŽ’åº
   - **é¢œè‰²ç¼–ç **ï¼š
     - IVåˆ—ï¼šèƒŒæ™¯è‰²æ·±æµ…è¡¨ç¤ºé«˜ä½Ž
     - Spreadåˆ—ï¼šèƒŒæ™¯è‰²è¡¨ç¤ºæµåŠ¨æ€§ï¼ˆçº¢è‰²=å®½ä»·å·®ï¼Œç»¿è‰²=çª„ä»·å·®ï¼‰
     - Deltaåˆ—ï¼šèƒŒæ™¯è‰²è¡¨ç¤ºå®žå€¼/è™šå€¼ç¨‹åº¦
   - **è¡Œé«˜äº®**ï¼š
     - ATMè¡Œï¼šç‰¹æ®ŠèƒŒæ™¯è‰²
     - é«˜IVè¡Œï¼šçº¢è‰²è¾¹æ¡†
     - é«˜Volumeè¡Œï¼šé»„è‰²è¾¹æ¡†

3. **ä¾§è¾¹æ è¿·ä½ å›¾è¡¨**
   - åœ¨è¡¨æ ¼å³ä¾§æ˜¾ç¤ºå°åž‹æŠ˜çº¿å›¾
   - æ˜¾ç¤ºè¯¥æ‰§è¡Œä»·çš„IVã€Deltaç­‰æŒ‡æ ‡
   - å¿«é€Ÿäº†è§£è¶‹åŠ¿

**ä¼˜åŠ¿ï¼š**
- âœ… ä¿ç•™è¡¨æ ¼ç²¾ç¡®æ€§
- âœ… å¢žå¼ºå¯è¯»æ€§
- âœ… å®žçŽ°ç®€å•

---

## ðŸ“ˆ æŽ¨èå®žæ–½è·¯çº¿

### Phase 1: æ ¸å¿ƒè§†å›¾ï¼ˆMVPï¼‰
1. **ä»·æ ¼è§†å›¾ï¼ˆCandlestickï¼‰** - æœ€é«˜ä¼˜å…ˆçº§
   - æœ€ç›´è§‚ï¼Œè§£å†³"çœ‹ä¸æ‡‚è¡¨æ ¼"çš„æ ¸å¿ƒé—®é¢˜
   - ä½¿ç”¨ `lightweight-charts` å®žçŽ°
   - Call å’Œ Put åˆ†å¼€æ˜¾ç¤ºï¼ˆä¸Šä¸‹ä¸¤ä¸ªå›¾ï¼‰

2. **IVè§†å›¾ï¼ˆArea Chartï¼‰** - é«˜ä¼˜å…ˆçº§
   - è¯†åˆ«é«˜IVæœºä¼š
   - ä½¿ç”¨ `recharts` å®žçŽ°

3. **è§†å›¾åˆ‡æ¢Tab** - åŸºç¡€åŠŸèƒ½
   - ä»·æ ¼è§†å›¾ / IVè§†å›¾ åˆ‡æ¢
   - ä¿ç•™åŽŸæœ‰çš„è¡¨æ ¼è§†å›¾ä½œä¸ºå¤‡é€‰

### Phase 2: å¢žå¼ºåŠŸèƒ½
4. **Greeksè§†å›¾ï¼ˆMulti-Lineï¼‰**
5. **å¸‚åœºæ´»è·ƒåº¦è§†å›¾ï¼ˆBar Chartï¼‰**
6. **äº¤äº’å¢žå¼º**ï¼š
   - ç‚¹å‡»å›¾è¡¨ç‚¹é€‰æ‹©æœŸæƒ
   - åŒæ­¥é«˜äº®ATMåŒºåŸŸ
   - Tooltip æ˜¾ç¤ºå®Œæ•´æ•°æ®

### Phase 3: é«˜çº§åŠŸèƒ½
7. **ç»¼åˆä»ªè¡¨æ¿è§†å›¾**
8. **çƒ­åŠ›å›¾è§†å›¾**ï¼ˆå¯é€‰ï¼‰
9. **å¤šåˆ°æœŸæ—¥å¯¹æ¯”**ï¼ˆå¦‚æžœæ•°æ®æ”¯æŒï¼‰

---

## ðŸŽ¨ UI/UX è®¾è®¡å»ºè®®

### å¸ƒå±€å»ºè®®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Option Chain: AAPL 2025-01-17          â”‚
â”‚  Spot: $150.25  â”‚  [Table] [Price] [IV] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚         [Selected View Chart]           â”‚
â”‚                                         â”‚
â”‚  Call Options                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Price Chart (Candlestick)  â”‚   â”‚
â”‚  â”‚      [Interactive Chart]        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  Put Options                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Price Chart (Candlestick)  â”‚   â”‚
â”‚  â”‚      [Interactive Chart]        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  [Click on chart to select option]     â”‚
â”‚  Selected: Call $150 Strike (Mid: $5.2)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢œè‰²æ–¹æ¡ˆ

- **Call æœŸæƒ**ï¼šè“è‰²ç³»ï¼ˆ#3b82f6ï¼‰
- **Put æœŸæƒ**ï¼šçº¢è‰²ç³»ï¼ˆ#ef4444ï¼‰
- **ATM åŒºåŸŸ**ï¼šé»„è‰²èƒŒæ™¯ï¼ˆ#fef3c7ï¼‰
- **é«˜IV**ï¼šçº¢è‰²ï¼ˆ#dc2626ï¼‰
- **ä½ŽIV**ï¼šç»¿è‰²ï¼ˆ#16a34aï¼‰
- **ä»·å·®å®½**ï¼šçº¢è‰²ï¼ˆæµåŠ¨æ€§å·®ï¼‰
- **ä»·å·®çª„**ï¼šç»¿è‰²ï¼ˆæµåŠ¨æ€§å¥½ï¼‰

### äº¤äº’è®¾è®¡

1. **ç‚¹å‡»é€‰æ‹©**
   - ç‚¹å‡»å›¾è¡¨ä¸Šçš„ç‚¹ â†’ é€‰æ‹©è¯¥æœŸæƒ
   - æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯å¡ç‰‡ï¼ˆBid, Ask, IV, Greeksç­‰ï¼‰
   - æä¾›"æ·»åŠ åˆ°ç­–ç•¥"æŒ‰é’®

2. **é¼ æ ‡æ‚¬åœ**
   - Tooltip æ˜¾ç¤ºå®Œæ•´æ•°æ®
   - ä¸´æ—¶é«˜äº®è¯¥æ‰§è¡Œä»·è¡Œï¼ˆå¦‚æžœæœ‰è¡¨æ ¼ï¼‰

3. **ç¼©æ”¾å’Œå¹³ç§»**
   - æ”¯æŒé¼ æ ‡æ»šè½®ç¼©æ”¾
   - æ‹–æ‹½å¹³ç§»ï¼ˆå¦‚æžœæ•°æ®é‡å¤§ï¼‰

---

## ðŸ”§ æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### æ•°æ®è½¬æ¢

#### Candlestick æ•°æ®è½¬æ¢
```typescript
// å°†æœŸæƒé“¾æ•°æ®è½¬æ¢ä¸º Candlestick æ ¼å¼
interface OptionCandlestickData {
  strike: number  // ä½œä¸ºXè½´ï¼ˆè™½ç„¶ä¸æ˜¯æ—¶é—´ï¼Œä½†å¯ä»¥ä½œä¸ºåˆ†ç±»è½´ï¼‰
  open: number    // Bid
  high: number    // Ask
  low: number     // Bid
  close: number   // Mid = (Bid + Ask) / 2
}

// æ³¨æ„ï¼šlightweight-charts è¦æ±‚æ—¶é—´è½´ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æ‰§è¡Œä»·ä½œä¸º"æ—¶é—´"
// å¯èƒ½éœ€è¦è‡ªå®šä¹‰å®žçŽ°æˆ–ä½¿ç”¨ recharts
```

#### æŽ¨èæ–¹æ¡ˆ
ç”±äºŽ `lightweight-charts` ä¸»è¦é’ˆå¯¹æ—¶é—´åºåˆ—ï¼ŒæœŸæƒé“¾çš„Xè½´æ˜¯æ‰§è¡Œä»·ï¼ˆæ•°å€¼ï¼‰ï¼Œå»ºè®®ï¼š
- **ä»·æ ¼è§†å›¾**ï¼šä½¿ç”¨ `recharts` çš„ `BarChart` æˆ–è‡ªå®šä¹‰ç»„ä»¶ï¼Œæ¨¡æ‹ŸKçº¿æ ·å¼
- **IV/Greeksè§†å›¾**ï¼šä½¿ç”¨ `recharts` çš„ `LineChart` æˆ– `AreaChart`
- **æ´»è·ƒåº¦è§†å›¾**ï¼šä½¿ç”¨ `recharts` çš„ `BarChart`

### ç»„ä»¶ç»“æž„

```
OptionChainVisualization/
â”œâ”€â”€ OptionChainVisualization.tsx  (ä¸»ç»„ä»¶)
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ PriceView.tsx             (ä»·æ ¼è§†å›¾ - Candlestick)
â”‚   â”œâ”€â”€ IVView.tsx                (IVè§†å›¾ - Area Chart)
â”‚   â”œâ”€â”€ GreeksView.tsx            (Greeksè§†å›¾ - Multi-Line)
â”‚   â”œâ”€â”€ ActivityView.tsx          (æ´»è·ƒåº¦è§†å›¾ - Bar Chart)
â”‚   â””â”€â”€ CombinedView.tsx          (ç»¼åˆè§†å›¾)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ OptionChartTooltip.tsx    (Tooltipç»„ä»¶)
â”‚   â”œâ”€â”€ ATMIndicator.tsx          (ATMæ ‡è®°çº¿)
â”‚   â””â”€â”€ StrikeSelector.tsx        (æ‰§è¡Œä»·é€‰æ‹©å™¨)
â””â”€â”€ utils/
    â”œâ”€â”€ optionDataTransformer.ts  (æ•°æ®è½¬æ¢å·¥å…·)
    â””â”€â”€ optionFilters.ts          (ç­›é€‰é€»è¾‘)
```

---

## âœ… æˆåŠŸæŒ‡æ ‡

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
1. **ç†è§£é€Ÿåº¦**ï¼šç”¨æˆ·èƒ½åœ¨3ç§’å†…è¯†åˆ«ATMå’Œé«˜IVæœŸæƒï¼ˆvs å½“å‰éœ€è¦10ç§’+ï¼‰
2. **æ“ä½œæ•ˆçŽ‡**ï¼šç‚¹å‡»é€‰æ‹©æœŸæƒçš„æ—¶é—´ < 1ç§’ï¼ˆvs å½“å‰éœ€è¦æ»šåŠ¨è¡¨æ ¼ï¼‰
3. **æ»¡æ„åº¦**ï¼šç”¨æˆ·åé¦ˆ"æ¯”è¡¨æ ¼ç›´è§‚"

### åŠŸèƒ½å®Œæ•´æ€§
1. âœ… æ‰€æœ‰æ•°æ®å­—æ®µéƒ½æœ‰å¯¹åº”çš„å¯è§†åŒ–å±•ç¤º
2. âœ… æ”¯æŒCallå’ŒPutçš„å¯¹æ¯”åˆ†æž
3. âœ… æ”¯æŒäº¤äº’é€‰æ‹©ï¼Œä¸Žç­–ç•¥æž„å»ºæµç¨‹æ— ç¼é›†æˆ

---

## ðŸš€ å®žæ–½å»ºè®®

### ç¬¬ä¸€æ­¥ï¼šå¿«é€ŸåŽŸåž‹
1. å®žçŽ°**ä»·æ ¼è§†å›¾ï¼ˆCandlestickæ ·å¼ï¼‰**çš„MVPç‰ˆæœ¬
2. ä½¿ç”¨ `recharts` å¿«é€Ÿå®žçŽ°ï¼ˆå› ä¸ºæ‰§è¡Œä»·ä¸æ˜¯æ—¶é—´åºåˆ—ï¼‰
3. æµ‹è¯•æ•°æ®è½¬æ¢å’Œæ¸²æŸ“æ€§èƒ½

### ç¬¬äºŒæ­¥ï¼šç”¨æˆ·æµ‹è¯•
1. æ”¶é›†åé¦ˆï¼šæ˜¯å¦æ¯”è¡¨æ ¼æ›´ç›´è§‚ï¼Ÿ
2. ç¡®è®¤å“ªäº›è§†å›¾æœ€æœ‰ç”¨
3. è°ƒæ•´è®¾è®¡æ–¹æ¡ˆ

### ç¬¬ä¸‰æ­¥ï¼šå®Œæ•´å®žçŽ°
1. å®žçŽ°æ‰€æœ‰è§†å›¾
2. æ·»åŠ äº¤äº’åŠŸèƒ½
3. ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

---

## ðŸ“ æ€»ç»“

**æ ¸å¿ƒé—®é¢˜ï¼š**
- å½“å‰è¡¨æ ¼å½¢å¼ä¿¡æ¯è¿‡è½½ï¼Œéš¾ä»¥å¿«é€Ÿç†è§£æœŸæƒé“¾æ•°æ®

**è§£å†³æ–¹æ¡ˆï¼š**
- å¤šè§†å›¾å¯è§†åŒ–ï¼Œæ¯ä¸ªè§†å›¾èšç„¦ä¸åŒç»´åº¦
- ä»·æ ¼è§†å›¾ï¼ˆç±»ä¼¼Kçº¿ï¼‰ä½œä¸ºä¸»è¦è§†å›¾ï¼Œè§£å†³"çœ‹ä¸æ‡‚"çš„é—®é¢˜
- IVè§†å›¾ã€Greeksè§†å›¾ç­‰ä½œä¸ºè¾…åŠ©åˆ†æžå·¥å…·

**ä¼˜å…ˆçº§ï¼š**
1. **ä»·æ ¼è§†å›¾** - æœ€é«˜ä¼˜å…ˆçº§ï¼ˆè§£å†³æ ¸å¿ƒé—®é¢˜ï¼‰
2. **IVè§†å›¾** - é«˜ä¼˜å…ˆçº§ï¼ˆè¯†åˆ«æœºä¼šï¼‰
3. **Greeksè§†å›¾** - ä¸­ç­‰ä¼˜å…ˆçº§ï¼ˆæ·±åº¦åˆ†æžï¼‰
4. **æ´»è·ƒåº¦è§†å›¾** - ä¸­ç­‰ä¼˜å…ˆçº§ï¼ˆæµåŠ¨æ€§åˆ†æžï¼‰

**æŠ€æœ¯é€‰åž‹ï¼š**
- ä¸»è¦ä½¿ç”¨ `recharts`ï¼ˆæ›´é€‚åˆéžæ—¶é—´åºåˆ—æ•°æ®ï¼‰
- ä¿ç•™ `lightweight-charts` ç”¨äºŽå…¶ä»–Kçº¿å›¾éœ€æ±‚
- è‡ªå®šä¹‰ç»„ä»¶è¡¥å……ï¼ˆå¦‚çƒ­åŠ›å›¾ã€Candlestickæ ·å¼çš„Bar Chartï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**åˆ›å»ºæ—¥æœŸï¼š** 2025-01-XX  
**çŠ¶æ€ï¼š** å¾…è¯„å®¡

